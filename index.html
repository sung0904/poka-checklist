<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RIIZE í¬ì¹´ ì²´í¬ë¦¬ìŠ¤íŠ¸</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      margin: 2rem;
      background-color: #fdfdfd;
      color: #333;
    }
    h1 {
      font-size: 1.8rem;
    }
    .filters, .ownership {
      margin: 1rem 0;
    }
    button {
      margin: 0.25rem;
      padding: 0.4rem 0.8rem;
      border: none;
      border-radius: 4px;
      background-color: #e0e0e0;
      cursor: pointer;
    }
    button.active {
      background-color: #4fc3f7;
      color: white;
    }
    .card-list {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-top: 1rem;
    }
    .card {
      border: 1px solid #ddd;
      border-radius: 6px;
      padding: 0.5rem;
      width: 140px;
      text-align: center;
      background-color: white;
    }
    .card img {
      width: 100%;
      border-radius: 4px;
    }
    .add-form {
      margin-top: 2rem;
      border-top: 1px dashed #ccc;
      padding-top: 1rem;
    }
    .checkbox {
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <h1>ğŸ“¸ RIIZE í¬í† ì¹´ë“œ ì²´í¬ë¦¬ìŠ¤íŠ¸</h1>

  <div class="filters">
    <strong>ì¢…ë¥˜:</strong>
    <button onclick="filterType('ì „ì²´')" class="active">ì „ì²´</button>
    <button onclick="filterType('ì•¨ë²”')">ì•¨ë²”</button>
    <button onclick="filterType('ì‘ì›')">ì‘ì›</button>
    <button onclick="filterType('ê´‘ê³ ')">ê´‘ê³ </button>
  </div>

  <div class="ownership">
    <strong>ì†Œì¥ì—¬ë¶€:</strong>
    <button onclick="filterOwned('ì „ì²´')" class="active">ì „ì²´</button>
    <button onclick="filterOwned('ì†Œì¥')">ì†Œì¥</button>
    <button onclick="filterOwned('ë¯¸ì†Œì¥')">ë¯¸ì†Œì¥</button>
  </div>

  <div class="card-list" id="card-list"></div>

  <div class="add-form">
    <h3>í¬í† ì¹´ë“œ ì¶”ê°€í•˜ê¸°</h3>
    <input type="text" id="name-input" placeholder="ì´ë¦„" />
    <select id="type-select">
      <option value="ì•¨ë²”">ì•¨ë²”</option>
      <option value="ì‘ì›">ì‘ì›</option>
      <option value="ê´‘ê³ ">ê´‘ê³ </option>
    </select>
    <input type="file" id="image-input" />
    <div class="checkbox">
      <label><input type="checkbox" id="owned-checkbox" /> ì†Œì¥í•¨</label>
    </div>
    <button onclick="addPhotocard()">ì¶”ê°€</button>
  </div>

  <script>
    let photocards = JSON.parse(localStorage.getItem("photocards") || "[]");
    let currentType = "ì „ì²´";
    let currentOwned = "ì „ì²´";

    function saveToLocalStorage() {
      localStorage.setItem("photocards", JSON.stringify(photocards));
    }

    function renderPhotocards() {
      const list = document.getElementById("card-list");
      list.innerHTML = "";

      let filtered = photocards.filter(card => {
        const matchType = currentType === "ì „ì²´" || card.type === currentType;
        const matchOwned = currentOwned === "ì „ì²´" ||
          (currentOwned === "ì†Œì¥" && card.owned) ||
          (currentOwned === "ë¯¸ì†Œì¥" && !card.owned);
        return matchType && matchOwned;
      });

      for (const card of filtered) {
        const div = document.createElement("div");
        div.className = "card";
        div.innerHTML = \`
          <img src="\${card.image}" alt="\${card.name}" />
          <div><strong>\${card.name}</strong></div>
          <div>\${card.type}</div>
          <div>\${card.owned ? "ì†Œì¥" : "ë¯¸ì†Œì¥"}</div>
        \`;
        list.appendChild(div);
      }
    }

    function filterType(type) {
      currentType = type;
      document.querySelectorAll(".filters button").forEach(btn => {
        btn.classList.toggle("active", btn.textContent === type);
      });
      renderPhotocards();
    }

    function filterOwned(owned) {
      currentOwned = owned;
      document.querySelectorAll(".ownership button").forEach(btn => {
        btn.classList.toggle("active", btn.textContent === owned);
      });
      renderPhotocards();
    }

    function addPhotocard() {
      const name = document.getElementById("name-input").value.trim();
      const type = document.getElementById("type-select").value;
      const fileInput = document.getElementById("image-input");
      const owned = document.getElementById("owned-checkbox").checked;

      if (!name || fileInput.files.length === 0) {
        alert("ì´ë¦„ê³¼ ì´ë¯¸ì§€ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
        return;
      }

      const file = fileInput.files[0];
      const reader = new FileReader();
      reader.onload = function () {
        photocards.push({ name, type, image: reader.result, owned });
        saveToLocalStorage();
        renderPhotocards();
      };

      document.getElementById('name-input').value = '';
      fileInput.value = '';
      reader.readAsDataURL(file);
    }

    renderPhotocards();
  </script>
</body>
</html>
